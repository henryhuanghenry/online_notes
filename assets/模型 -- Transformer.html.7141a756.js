import{_ as s,r as l,o as r,c as d,a as e,d as t,w as a,b as i,e as _}from"./app.6738de7d.js";var h="/online_notes/assets/image-20220703170022145.bfe34db8.png",c="/online_notes/assets/image-20220703170222560.ce7a0d82.png",u="/online_notes/assets/image-20220703171135294.eddb35c9.png",p="/online_notes/assets/image-20220703170245345.9b1b3aad.png",m="/online_notes/assets/image-20220703170255013.0c64d5b0.png",f="/online_notes/assets/image-20220703170307202.7d609cd0.png";const g={},b=e("h1",{id:"\u57FA\u7840-transformer",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#\u57FA\u7840-transformer","aria-hidden":"true"},"#"),i(" \u57FA\u7840 -- Transformer")],-1),k={class:"table-of-contents"},x=i("0.\u8D44\u6599\u7F51\u5740\uFF1A"),w=i("0. positional encodering"),v=i("0.1 \u4E3A\u4EC0\u4E48\u9700\u8981positional encodering\uFF0C\u666E\u901A\u7684\u4E3A\u4F55\u4E0D\u884C"),y=i("0.2 \u4F4D\u7F6E\u7F16\u7801\u9700\u8981\u7684\u7279\u6027"),z=i("0.3 \u5F53\u524D\u7684\u4F4D\u7F6E\u7F16\u7801"),I=i("1. self-attention"),N=i("1.1 \u5F52\u4E00\u5316"),F=i("1.2 \u5982\u4F55mask"),L=i("2. \u591A\u5934\u6CE8\u610F\u529B"),T=i("3. Point-wise FFN"),V=i("4. \u6A21\u578B\u53C2\u6570\u8BA1\u7B97"),q=e("h2",{id:"_0-\u8D44\u6599\u7F51\u5740",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#_0-\u8D44\u6599\u7F51\u5740","aria-hidden":"true"},"#"),i(" 0.\u8D44\u6599\u7F51\u5740\uFF1A")],-1),B={href:"https://jalammar.github.io/illustrated-transformer/",target:"_blank",rel:"noopener noreferrer"},E=i("\u8BE6\u7EC6\u7684\u89E3\u91CA"),j={href:"https://classic.d2l.ai/chapter_attention-mechanism/transformer.html",target:"_blank",rel:"noopener noreferrer"},C=i("d2l\u7F51\u5740"),P=_('<h2 id="_0-positional-encodering" tabindex="-1"><a class="header-anchor" href="#_0-positional-encodering" aria-hidden="true">#</a> 0. positional encodering</h2><ul><li>\u53C2\u8003\u7F51\u5740https://kazemnejad.com/blog/transformer_architecture_positional_encoding/</li><li>\u5BF9\u4E8E\u5F53\u524Dposititonal encodering\u7684\u76F8\u5BF9\u4F4D\u7F6E\u7684\u8BC1\u660Ehttps://timodenk.com/blog/linear-relationships-in-the-transformers-positional-encoding/</li></ul><h3 id="_0-1-\u4E3A\u4EC0\u4E48\u9700\u8981positional-encodering-\u666E\u901A\u7684\u4E3A\u4F55\u4E0D\u884C" tabindex="-1"><a class="header-anchor" href="#_0-1-\u4E3A\u4EC0\u4E48\u9700\u8981positional-encodering-\u666E\u901A\u7684\u4E3A\u4F55\u4E0D\u884C" aria-hidden="true">#</a> 0.1 \u4E3A\u4EC0\u4E48\u9700\u8981positional encodering\uFF0C\u666E\u901A\u7684\u4E3A\u4F55\u4E0D\u884C</h3><ul><li><p>\u6A21\u578B\u9700\u8981\u5BF9\u4F4D\u7F6E\u6709\u4E2A\u6982\u5FF5\uFF0C\u9700\u8981\u77E5\u9053\u5355\u8BCD\u7684\u5148\u540E\u987A\u5E8F</p></li><li><p>\u4F46\u662F\u56E0\u4E3Aattention\u7684\u5B58\u5728\uFF0C\u6240\u6709\u7684\u5355\u8BCD\u662F\u540C\u65F6\u95F4\u8F93\u5165\u5230\u6A21\u578B\u7684</p></li><li><p>\u4E3A\u4F55\u4E0D\u80FD\u7B80\u5355\u7684\u7528[0,1]\u6216\u8005[1,2, , length_word]\u5BF9\u6BCF\u4E2A\u5355\u8BCD\u8FDB\u884C\u8D4B\u503C</p><ul><li>\u7B80\u5355\u7684\u7528[0,1]\u7684\u8BDD\uFF0C\u4E0D\u540C\u53E5\u5B50\u957F\u5EA6\u4E0D\u4E00\u6837\uFF0C\u800C\u6BCF\u4E2A\u4E0D\u540C\u957F\u5EA6\u7684\u53E5\u5B50\uFF0C\u6570\u503C\u95F4\u9694\u6B65\u957F\u5C31\u4E0D\u4E00\u6837 <ul><li>\u6BD4\u5982\u957F\u5EA6\u4E3A5\u7684\u53E5\u5B50\u5355\u8BCD\u95F4\u96940.2\uFF0C\u957F\u5EA6\u4E3A10\u7684\u53E5\u5B50\u5355\u8BCD\u95F4\u96940.1</li><li>\u8FD9\u6837\u5C31\u5BFC\u81F4\u4E86\uFF0C\u5355\u8BCD\u7684\u6570\u503C\u95F4\u9694\u7684\u4E0D\u4E00\u81F4\uFF0C\u96BE\u4EE5\u8868\u5F81\u987A\u5E8F\uFF0C\u5F71\u54CD\u5B66\u4E60</li></ul></li><li>\u5982\u679C\u4F7F\u7528[1,2, , length_word]\u7684\u8BDD <ul><li>\u6A21\u578B\u7684\u8F93\u5165\u7684\u53E5\u5B50\u7684\u957F\u5EA6\u4E0D\u4E00\u81F4\uFF0C\u5982\u679C\u4F4D\u7F6E\u7F16\u7801\u4E0E\u957F\u5EA6\u76F8\u5173\u7684\u8BDD\uFF0C\u5982\u679C\u6A21\u578B\u6CA1\u89C1\u8FC7\u4E00\u4E9B\u957F\u5EA6\u7684\u53E5\u5B50\uFF0C\u4E5F\u5BB9\u6613\u5F71\u54CD\u5B66\u4E60</li><li>\u6BD4\u5982\u5E38\u89C1\u7684\u90FD\u662F12\u957F\u7684\uFF0C\u5982\u679C\u8F93\u5165100\u957F\u7684\uFF0C\u540E\u9762\u7684\u4F4D\u7F6E\u7F16\u7801\u6A21\u578B\u90FD\u6CA1\u89C1\u8FC7</li></ul></li></ul></li></ul><h3 id="_0-2-\u4F4D\u7F6E\u7F16\u7801\u9700\u8981\u7684\u7279\u6027" tabindex="-1"><a class="header-anchor" href="#_0-2-\u4F4D\u7F6E\u7F16\u7801\u9700\u8981\u7684\u7279\u6027" aria-hidden="true">#</a> 0.2 \u4F4D\u7F6E\u7F16\u7801\u9700\u8981\u7684\u7279\u6027</h3><blockquote><p>Ideally, the following criteria should be satisfied:</p><ul><li>It should output a unique encoding for each time-step (word\u2019s position in a sentence)</li><li>Distance between any two time-steps should be consistent across sentences with different lengths.</li><li>Our model should generalize to longer sentences without any efforts. Its values should be bounded.</li><li>It must be deterministic.</li></ul></blockquote><ul><li>\u7F16\u7801\u662F\u786E\u5B9A\u6027\u7684\uFF0C\u4E0D\u53D6\u51B3\u4E8E\u8F93\u5165\u957F\u5EA6</li><li>\u6BCF\u4E00\u4E2A\u4F4D\u7F6E\u7F16\u7801\u552F\u4E00</li><li>\u6BCF\u4E24\u4E2A\u4F4D\u7F6E\u7684\u76F8\u5BF9\u95F4\u9694\u662F\u4E00\u81F4\u7684\uFF0C\u59821\u548C2 \u4EE5\u53CA 5\u548C6 \u4E4B\u95F4\u9700\u8981\u6709\u4E00\u81F4\u7684\u95F4\u9694\uFF0C\u6BD4\u59820.1</li><li>\u53EF\u4EE5\u4F7F\u7528\u66F4\u957F\u7684\u8F93\u5165\u5E8F\u5217</li></ul><h3 id="_0-3-\u5F53\u524D\u7684\u4F4D\u7F6E\u7F16\u7801" tabindex="-1"><a class="header-anchor" href="#_0-3-\u5F53\u524D\u7684\u4F4D\u7F6E\u7F16\u7801" aria-hidden="true">#</a> 0.3 \u5F53\u524D\u7684\u4F4D\u7F6E\u7F16\u7801</h3><p><img src="'+h+'" alt="image-20220703170022145"></p><h2 id="_1-self-attention" tabindex="-1"><a class="header-anchor" href="#_1-self-attention" aria-hidden="true">#</a> 1. self-attention</h2><img src="'+c+'" alt="image-20220703170222560" style="zoom:150%;"><h3 id="_1-1-\u5F52\u4E00\u5316" tabindex="-1"><a class="header-anchor" href="#_1-1-\u5F52\u4E00\u5316" aria-hidden="true">#</a> 1.1 \u5F52\u4E00\u5316</h3><p>\u4E3A\u4F55\u8981\u9664\u4EE5\u6839\u53F7dk\uFF0C\u662F\u56E0\u4E3A\uFF0C\u76F8\u4E58\u6C42\u548C\u4E4B\u540E\uFF0C\u65B9\u5DEE\u4E3A\u53D8\u5927\u53D8\u4E3A\u539F\u6765\u7684dk\u500D\u6570\u3002</p><ul><li>\u56E0\u6B64\uFF0C\u9664\u4EE5\u6839\u53F7dk\u5176\u5B9E\u662F\u4E00\u4E2Az\u7684\u5F52\u4E00\u5316\uFF0C\u4F7F\u5176\u65B9\u5DEE\u7EE7\u7EED\u53D8\u4E3A1</li></ul><h3 id="_1-2-\u5982\u4F55mask" tabindex="-1"><a class="header-anchor" href="#_1-2-\u5982\u4F55mask" aria-hidden="true">#</a> 1.2 \u5982\u4F55mask</h3><p><img src="'+u+'" alt="image-20220703171135294"></p><h2 id="_2-\u591A\u5934\u6CE8\u610F\u529B" tabindex="-1"><a class="header-anchor" href="#_2-\u591A\u5934\u6CE8\u610F\u529B" aria-hidden="true">#</a> 2. \u591A\u5934\u6CE8\u610F\u529B</h2><p><img src="'+p+'" alt="image-20220703170245345"></p><h2 id="_3-point-wise-ffn" tabindex="-1"><a class="header-anchor" href="#_3-point-wise-ffn" aria-hidden="true">#</a> 3. Point-wise FFN</h2><img src="'+m+'" alt="image-20220703170255013" style="zoom:150%;"><h2 id="_4-\u6A21\u578B\u53C2\u6570\u8BA1\u7B97" tabindex="-1"><a class="header-anchor" href="#_4-\u6A21\u578B\u53C2\u6570\u8BA1\u7B97" aria-hidden="true">#</a> 4. \u6A21\u578B\u53C2\u6570\u8BA1\u7B97</h2><img src="'+f+'" alt="image-20220703170307202" style="zoom:80%;">',22);function R(D,O){const n=l("RouterLink"),o=l("ExternalLinkIcon");return r(),d("div",null,[b,e("nav",k,[e("ul",null,[e("li",null,[t(n,{to:"#_0-\u8D44\u6599\u7F51\u5740"},{default:a(()=>[x]),_:1})]),e("li",null,[t(n,{to:"#_0-positional-encodering"},{default:a(()=>[w]),_:1}),e("ul",null,[e("li",null,[t(n,{to:"#_0-1-\u4E3A\u4EC0\u4E48\u9700\u8981positional-encodering-\u666E\u901A\u7684\u4E3A\u4F55\u4E0D\u884C"},{default:a(()=>[v]),_:1})]),e("li",null,[t(n,{to:"#_0-2-\u4F4D\u7F6E\u7F16\u7801\u9700\u8981\u7684\u7279\u6027"},{default:a(()=>[y]),_:1})]),e("li",null,[t(n,{to:"#_0-3-\u5F53\u524D\u7684\u4F4D\u7F6E\u7F16\u7801"},{default:a(()=>[z]),_:1})])])]),e("li",null,[t(n,{to:"#_1-self-attention"},{default:a(()=>[I]),_:1}),e("ul",null,[e("li",null,[t(n,{to:"#_1-1-\u5F52\u4E00\u5316"},{default:a(()=>[N]),_:1})]),e("li",null,[t(n,{to:"#_1-2-\u5982\u4F55mask"},{default:a(()=>[F]),_:1})])])]),e("li",null,[t(n,{to:"#_2-\u591A\u5934\u6CE8\u610F\u529B"},{default:a(()=>[L]),_:1})]),e("li",null,[t(n,{to:"#_3-point-wise-ffn"},{default:a(()=>[T]),_:1})]),e("li",null,[t(n,{to:"#_4-\u6A21\u578B\u53C2\u6570\u8BA1\u7B97"},{default:a(()=>[V]),_:1})])])]),q,e("ul",null,[e("li",null,[e("p",null,[e("a",B,[E,t(o)])])]),e("li",null,[e("p",null,[e("a",j,[C,t(o)])])])]),P])}var A=s(g,[["render",R],["__file","\u6A21\u578B -- Transformer.html.vue"]]);export{A as default};
